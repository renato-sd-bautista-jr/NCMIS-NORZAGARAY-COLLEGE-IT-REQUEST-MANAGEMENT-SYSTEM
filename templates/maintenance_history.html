<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Maintenance History</title>

    <!-- Tailwind (or your existing CSS pipeline) -->
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen">

    <!-- Header -->
    <div class="bg-white shadow mb-6">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl font-semibold text-gray-800">
                Maintenance History
            </h1>
            <button
                onclick="history.back()"
                class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded text-sm">
                Back
            </button>
        </div>
    </div>

    <!-- Content -->
    <div class="max-w-7xl mx-auto px-6">

        {% if logs and logs|length > 0 %}
        <div class="overflow-x-auto bg-white shadow rounded-lg">
            <table class="min-w-full border border-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Date</th>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Action</th>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Status</th>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Risk Level</th>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Performed By</th>
                        <th class="px-4 py-2 border text-left text-sm font-semibold">Remarks</th>
                    </tr>
                </thead>
                <tbody>
                    {% for log in logs %}
                    <tr class="hover:bg-gray-50">
                        <!-- Date -->
                        <td class="px-4 py-2 border text-sm text-gray-700">
                            {{ log.performed_at }}
                        </td>

                        <!-- Action -->
                        <td class="px-4 py-2 border text-sm font-medium text-gray-800">
                            {{ log.action }}
                        </td>

                        <!-- Status Change -->
                        <td class="px-4 py-2 border text-sm">
                            <span class="text-gray-500">
                                {{ log.previous_status or '—' }}
                            </span>
                            →
                            <span class="font-semibold text-gray-800">
                                {{ log.new_status }}
                            </span>
                        </td>

                        <!-- Risk Change -->
                        <td class="px-4 py-2 border text-sm">
                            <span class="text-gray-500">
                                {{ log.previous_risk_level or '—' }}
                            </span>
                            →
                            <span class="font-semibold
                                {% if log.new_risk_level == 'High' %}text-red-600
                                {% elif log.new_risk_level == 'Medium' %}text-yellow-600
                                {% else %}text-green-600{% endif %}">
                                {{ log.new_risk_level }}
                            </span>
                        </td>

                        <!-- Performed By -->
                        <td class="px-4 py-2 border text-sm text-gray-700">
                            {{ log.performed_by or 'System' }}
                        </td>

                        <!-- Remarks -->
                        <td class="px-4 py-2 border text-sm text-gray-700">
                            {{ log.remarks or '—' }}
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>

        {% else %}
        <!-- Empty State -->
        <div class="bg-white shadow rounded-lg p-6 text-center text-gray-600">
            No maintenance history records found for this asset.
        </div>
        {% endif %}

    </div>

</body>
</html>
