<!-- templates/department_modal.html -->
<!-- Add Department Modal -->
<div id="addDepartmentModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative">
    <button onclick="closeModal('addDepartmentModal')" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
      <i data-lucide="x" class="w-5 h-5"></i>
    </button>

    <h2 class="text-xl font-bold text-blue-700 mb-4 flex items-center gap-2">
      <i data-lucide="plus-circle" class="w-5 h-5"></i> Add New Department
    </h2>

    <form method="post" action="{{ url_for('manage_department_bp.add_department') }}" class="space-y-4">
      <input type="text" name="department_name" placeholder="Enter department name"
        class="w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
        required>
      <div class="flex justify-end gap-2 pt-2">
        <button type="button" onclick="closeModal('addDepartmentModal')"
          class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100">Cancel</button>
        <button type="submit"
          class="px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700">Add</button>
      </div>
    </form>
  </div>
</div> 

<!-- Delete Department Modal -->
<div id="deleteDepartmentModal" class="hidden fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4">
  <div class="bg-white rounded-xl shadow-xl w-full max-w-md p-6 relative">
    <button onclick="closeModal('deleteDepartmentModal')" class="absolute top-3 right-3 text-gray-400 hover:text-gray-600">
      <i data-lucide="x" class="w-5 h-5"></i>
    </button>

    <h2 class="text-xl font-bold text-red-600 mb-4 flex items-center gap-2">
      <i data-lucide="trash-2" class="w-5 h-5"></i> Confirm Deletion
    </h2>

    <p class="text-gray-700 mb-3">Are you sure you want to delete this department?</p>
    <div class="bg-gray-50 border border-gray-200 rounded-lg p-3 mb-4">
      <p class="text-gray-800 font-semibold">
        <i data-lucide="building-2" class="w-4 h-4 inline text-red-500"></i>
        <span id="departmentName"></span>
      </p>
    </div>

    <form method="post" action="{{ url_for('manage_department_bp.delete_department') }}">
      <input type="hidden" name="department_id" id="deleteDepartmentId">
      <div class="flex justify-end gap-2">
        <button type="button" onclick="closeModal('deleteDepartmentModal')"
          class="px-4 py-2 rounded-lg border border-gray-300 text-gray-700 hover:bg-gray-100">Cancel</button>
        <button type="submit"
          class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700">Delete</button>
      </div>
    </form>
  </div>
</div>

<script>
  lucide.createIcons();

  function openAddModal() {
    document.getElementById('addDepartmentModal').classList.remove('hidden');
  }

  function openDeleteModal(id, name) {
    document.getElementById('deleteDepartmentModal').classList.remove('hidden');
    document.getElementById('deleteDepartmentId').value = id;
    document.getElementById('departmentName').innerText = name;
  }

  function closeModal(id) {
    document.getElementById(id).classList.add('hidden');
  }
</script>
